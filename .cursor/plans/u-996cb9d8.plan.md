<!-- 996cb9d8-93a9-41a6-a538-fd74e714c5f5 60cf3aad-77a4-45a2-94ff-0d87c7348e31 -->
# Uptalent 2026 New Website — Plan (Astro + Nebius)

## 1) Prioritized page list confirmation

- Owner start scope: Homepage, Engineers category, Architects category, Navbar, Footer.
- Recommendation: Confirm high-level structure once, then build module-by-module. Why: shared patterns (tokens, components, assets, SEO) are stabilized early; visuals can iterate safely.
- Flexibility: Page structure can be confirmed after initialization is complete; components are template-driven so switching focus is low-cost.
- **MANDATORY: Page confirmation timing**: Page confirmation (Home, Engineers, Architects, nav, footer) happens in Phase 2, after all initialization and setup is complete and verified. Do not confirm pages at kickoff.
- **MANDATORY: No page development until initialization complete**: Until all required systems and platforms are correctly initialized (GitHub, Astro, Nebius, Vercel, CI, brand profile, component library, tokens, and any other systems paramount for the project to work), you cannot start with page projects or page development.
- **MANDATORY: Content responsibility**: All page content (sections, text, headings, copy) will be provided by the owner in .md files (e.g., `homepage.md`, `engineers.md`, `architects.md`) placed in a specific folder. The development team ONLY handles programming, coding, and design implementation. Content will be requested from owner after initialization is complete and pages are confirmed.

## 2) Component inventory (props, Nebius assets, acceptance, cost)

| Component | Props / Data Schema | Nebius Assets Needed | Acceptance Criteria | Cost |

|---|---|---|---|---|

| Navbar | { items:[{label, href, kind:[link, dropdown], children?}], logoSrc, cta? } | Optional: logo cleanup via icon-vectorize | Keyboard accessible, focus states, sticky optional; mobile menu; uses brand tokens | Low |

| Footer | { columns:[{title, links:[{label, href}]}], socials:[{name, href, icon}], legal } | Optional icon-vectorize for social icons | WCAG AA contrast; clear link targets; semantic markup | Low |

| Hero (Home) | { eyebrow?, h1, subcopy, primaryCta, secondaryCta?, bgVariantId, mediaAlt } | hero-preview/hero-export, visual-validator | Visual score ≥0.70; WCAG AA; mobile-crop safe; owner-approved | Med/High (export) |

| Hero (Category) | { category, h1, subcopy, cta, bgVariantId } | hero-preview/hero-export | Category tone aligned; same gates as above | Med/High |

| Feature Block | { title, items:[{iconId|svgPath, title, body}] } | icon-vectorize (if creating icons) | Grid responsive; icons crisp @2x; contrast AA | Low/Med |

| Service Card | { title, summary, link, iconId|imageId } | icon-vectorize or hero-preview (minimal) | Card hover, 3–6 per row responsive | Low |

| Testimonial | { quote, author, role, avatarId, logoId } | icon-vectorize (logos), optional avatar gen | Min height stable; logo mono variant AA contrast | Low/Med |

| Logos Strip | { logos:[{name, svg|pngId, href?}] } | icon-vectorize | All logos normalized height; AA contrast on bg | Low |

| Pricing Table | { plans:[{name, price, features[], cta}] } | None | Table semantics; highlight plan; mobile stack | Low |

| CTA Banner | { title, body, primaryCta, secondaryCta? } | Optional background via hero-preview | Clear hierarchy; AA contrast; focus order | Low/Med |

| Contact Form | { fields, submitLabel, privacyNote } | None | Client+server validation; spam guard; a11y labels | Low |

| Case Study Layout | { title, summary, heroMediaId, stats[], sections[] } | hero-preview/hero-export, motion optional | Progressive image loading; AA; print-ready | Med/High |

| Blog/Resource Card | { title, excerpt, date, topic, thumbnailId } | hero-preview (thumb), visual-validator | CLS <0.1; good crop in list; alt text | Low/Med |

| FAQ Accordion | { items:[{q, a}] } | None | Proper ARIA; keyboard support; deep-linkable | Low |

| Stat Bar | { items:[{value, label, iconId?}] } | icon-vectorize | Numbers readable on mobile; AA | Low |

| Badge/Pill | { label, tone } | None | Consistent spacing; contrast AA | Low |

| Button | { label, href|onClick, variant, size, icon? } | icon-vectorize if icon | Focus ring visible; hit-area ≥44px | Low |

| Section Wrapper | { id, bg, pad, contained } | None | Token-driven spacing; consistent breakpoints | Low |

Notes: Cost classes reflect Nebius use. Preview runs are cheap; exports and motion raise cost.

## 3) Hero pilot flow (exact steps, gating, commits)

1. Skeleton: Implement `Hero` shell in Astro with brand tokens and content placeholders (placeholder text only; actual content will come from owner-provided .md files).
2. Registry-first: Query `/assets/registry.json` for similar approved hero backgrounds (by tags/category). Suggest reuse if similarity+validator ≥ thresholds.
3. If no reuse: Submit `hero-preview` (n=4 variants, **low-res only**). Attach ControlNet/layout hints from Figma/Anima frame.
4. Run `visual-validator` on each variant: ensure score ≥0.70, WCAG AA contrast, mobile-crop safety.
5. Present **low-res variants only** to owner for approval. Max 3 auto re-runs if below threshold; else mark "manual review required". Do not generate high-res until owner approves.
6. **Only after owner approval**: Submit `hero-export` with the chosen seed/control parameters; upscale and final export (high-res).
7. Update `/assets/registry.json` with asset metadata, tags, brand_id, validator scores, and signed URLs.
8. Wire asset in `Hero` component, add alt text, and responsive sources.
9. Request content: Ask owner for content file (e.g., `homepage.md`) when ready to integrate actual text/headings. Replace placeholders with owner-provided content.
10. Open PR: include Vercel preview URL; title: `feat(hero:home): add approved bg [nebius:hero-export]`.
11. Gating checks in CI: validator ≥0.70, WCAG AA, Lighthouse perf (LCP ≤2.5s, CLS <0.1), mobile crop safety.
12. Owner approves PR; merge to main.
13. Tag release: `hero-home-v1` with adapter version note if relevant.

Rough cost classes: preview (low), export (medium). Motion is optional (high).

## 3.1) Page design workflow (section-by-section approval)

**MANDATORY: Section-by-section approval process**: After layout and structure are approved by owner, page design must proceed section-by-section with manual owner approval required for each section before continuing to the next. This prevents building complete pages that the owner may not like.

Workflow:
1. Owner approves page layout and structure (skeleton/outline)
2. Design and implement first section (e.g., Hero) with low-res assets for review
3. Present first section to owner for approval (low-res preview, Vercel preview URL)
4. Owner manually approves first section before proceeding
5. Only after approval: proceed to design and implement next section
6. Repeat steps 2-5 for each section (Feature Block, Service Cards, Testimonial, etc.)
7. Do not build complete pages or multiple sections before receiving owner approval for each individual section

This ensures iterative feedback and prevents wasted work on designs the owner does not approve. Each section should be presented for approval as a separate milestone/PR or review step.

## 4) Asset & adapter lifecycle policy

- Brand profile: On Figma/Anima import, generate `/brand/<brand_id>/brand_profile.json` with logo paths, palette HEXs, fonts, tone tokens, spacing, consent flag, and `adapter_id` placeholder.
- Branding assets to reference are located in the `Anima Files` folder in this workspace (Figma/Anima files).
- Registry-first: Always query `/assets/registry.json` for reuse before any Nebius job.
- Low-res first: All visual/motion jobs start with previews; owner approval needed before export.
- **MANDATORY: Low-res for review, high-res after approval**: All Nebius designs and assets provided for owner review must be low-resolution. High-resolution versions are ONLY generated after explicit owner approval. This applies to all visual assets (hero backgrounds, illustrations, icons, motion previews, etc.). Do not generate high-res exports until owner has approved the low-res preview.
- Validator gating: `visual-validator` ≥0.70; WCAG AA; mobile-crop safe required to proceed.
- Retries: ≤3 automated attempts per job; otherwise mark “manual review required”.
- Storage: Only approved assets get signed URLs and are added to the registry.
- Light LoRA onboarding: Create a minimal adapter (20–50 examples) after initial brand extraction; store `adapter_id` and metadata in `brand_profile.json`.
- Deeper LoRA candidate: After 30–50 approved assets, schedule `lora-train` proposal with cost estimate and require owner approval; version adapters (`adapter-v1`, `adapter-v2`).
- Consent & governance: Respect consent flag for training; run policy checks pre-export.
- Dedup & reuse: Prior to any render, compute content hash + tag similarity. If an approved asset with similarity≥0.9 exists and meets spec, reuse; otherwise proceed. Log dedup decisions in PR.

## 5) QA matrix and merge policy

- Visual: validator ≥0.70; mobile-crop safe; image fits layout without artifacts; pixel-diff to Anima/Figma overlays ≤1% at 1440/1280/768/390 widths.
- Accessibility: WCAG AA contrast; semantic landmarks; focus visible; keyboard nav; alt text; form labels.
- Performance: LCP ≤2.5s (mobile), CLS <0.1, TBT <200ms; optimized images; code-splitting; no layout shifts.
- SEO: Proper H1/H2/H3 from owner copy; meta/OG/twitter tags; JSON-LD where relevant; sitemap and robots present.
- Content integrity: Use owner copy verbatim; differences flagged as warnings unless owner-approved.
- Merge policy: All automated checks pass. If a category fails, block PR; allow retry up to 3 times. After that, mark for manual review.

## 6) Cost & approval policy

- Definition: A “Nebius job” is a single invocation of a Nebius template (e.g., `hero-preview`, `hero-export`, `icon-vectorize`, `lora-train`). Jobs report estimated GPU-minutes and $ before run.
- Typical ranges (ballpark): previews $0.10–$1.50; still exports $1–$6; icon vectorization $0.05–$0.50; short motion (3–5s) $3–$15; light LoRA onboarding $5–$25; deeper LoRA $30–$150. Actuals depend on resolution, steps, and queue pricing.
- Per-job approval threshold: $5 (many jobs will be <$1); anything above $5 requires explicit owner approval in the PR.
- Monthly soft cap: $20; halt exports and motion if cap is reached; previews under $1 can proceed with notice.
- LoRA training/export: Always require explicit approval (often >$5). Adapter hosting enabled only on approval.
- Transparency: Surface per-job estimate, cumulative month-to-date, and delta-to-cap in PR.

## 7) Nebius↔Cursor asset contract (specs for speed and quality)

- Images (hero/background): primary AVIF, fallback WebP; responsive sizes: 3840, 2560, 1920, 1280, 768, 480 px widths; max 160 KB at ≤1920, 320 KB at 2560+, quality tuned per validator; color: sRGB, embed ICC if non-sRGB; naming: `brandId_area_page_role_w{width}_v{n}.avif`.
- Illustrations/icons: clean SVG; viewBox set; stroke widths normalized; no embedded rasters; icon size grid 24/32/48; naming: `brandId_icon_slug.svg`.
- Motion (vector): Lottie JSON; duration ≤5s; 60–120 KB target; no excessive paths; naming: `brandId_motion_slug_v{n}.lottie.json`.
- Motion (raster): WebM (VP9) with alpha if needed; fallback MP4 H.264; max 1080p; ≤2 MB; naming: `brandId_motion_slug_1080p_v{n}.webm`.
- Metadata: every asset registered with {brand_id, adapter_id, job_type, seed, controlRefs, width/height, mime, sizeKB, validatorScores, wcagContrast, mobileCrop, signedUrl}.
- Delivery: Nebius stores to signed URL, returns metadata; Cursor writes to `/assets/registry.json` and saves approved files under `/assets/approved/` (previews under `/assets/previews/`).

## 8) PROJECT_MANIFEST.md (ready to commit)

```markdown
# PROJECT_MANIFEST

- Project: Uptalent 2026 new website (Astro)
- Brand source: Figma/Anima; brand profile at `/brand/<brand_id>/brand_profile.json`
- Asset registry: `/assets/registry.json`

## Decision Map (orchestration)
1) Registry-first → suggest reuse if similarity+validator pass
2) Low-res preview → validator ≥0.70 → owner approval
3) Export/upscale → registry update → PR with preview → merge if QA pass
4) After 30–50 approved assets → propose deeper LoRA (owner approval required)

## Nebius Templates (names only)
- hero-preview, hero-export
- icon-vectorize
- motion-preview, motion-export
- batch-ad-variants
- visual-validator
- lora-train, adapter-host
- realtime-render

## Gating Thresholds
- visual-validator: ≥0.70
- Accessibility: WCAG AA
- Performance: LCP ≤2.5s, CLS <0.1, TBT <200ms
- Retries: ≤3; then manual review

## Cost Controls
- Per-job approval threshold: $5
- Monthly soft cap: $20 (trial phase)
- Previews can run under cap with notice; exports/motion need approval when >$5

## Commit & PR Conventions
- Branch: `feature/<area>-<page>` e.g., `feature/hero-home`
- Commit: `feat(hero:home): add approved bg [nebius:hero-export]`
- Commit (registry): `chore(assets): update registry with hero-home-v1`
- PR title: `feat(hero:home)`; include cost estimate + Vercel preview URL
- Labels: `nebius`, `cost>5` when applicable

## Storage & URLs
- Approved assets: signed URLs (S3 or Nebius storage); stored in registry with metadata
- Unapproved previews: temp storage; auto-cleanup after 14 days

## Brand Profile Requirements
- logo paths, palette HEXs, fonts, tone tokens, spacing, border radii, shadows
- consent flag, `adapter_id`, adapter version and training metadata

## SEO & Analytics
- Owner-provided H1/H2/H3 are authoritative
- OG images generated via realtime-render where needed (with same gates)

## Workspace Structure (summary)
- Pages: `src/pages/` (route files) and `src/content/` (MDX content collections)
- Design inputs: `/design/anima/` (Anima exports) and `/design/figma/` (Figma assets)
- Brand: `/brand/<brand_id>/brand_profile.json`
- Assets: `/assets/{raw,previews,approved}/` + `/assets/registry.json`
- Config: `src/config/{navigation.json, seo.ts}`; Tokens: `src/styles/tokens.css` (CSS vars)
```

## 9) Workspace structure & file locations (Cursor + Astro)

- Pages (routes):
  - `src/pages/index.astro` (Homepage)
  - `src/pages/engineers/index.astro`
  - `src/pages/architects/index.astro`
  - Optional dynamic renderer: `src/pages/[slug].astro` to render MDX from content collections.
- Content (owner-provided copy): Owner will provide content in .md files (e.g., `homepage.md`, `engineers.md`, `architects.md`) when requested. These will be integrated into MDX with frontmatter for headings/meta.
  - `src/content/config.ts` (Astro collections)
  - `src/content/pages/home.mdx` (populated from owner's `homepage.md` when requested)
  - `src/content/pages/engineers.mdx` (populated from owner's `engineers.md` when requested)
  - `src/content/pages/architects.mdx` (populated from owner's `architects.md` when requested)
  - Future: add more under `src/content/pages/*.mdx` (no routes required when using `[slug].astro`).
  - Frontmatter example: `{ title, h1, h2[], description, ogImageRef, navLabel, order }`
  - **MANDATORY**: Development team does NOT create content. Only requests owner-provided .md files and integrates them into the codebase structure.
- Navigation
  - `src/config/navigation.json` (owner-editable). Example: `{ items:[{label, href, kind, children?}] }`
- SEO defaults
  - `src/config/seo.ts` for site defaults; per-page overrides via MDX frontmatter.
- Components
  - `src/components/*` per inventory above.
- Brand & assets
  - `brand/<brand_id>/brand_profile.json` (authoritative tokens + `adapter_id`)
  - `assets/registry.json` (approved assets)
  - `assets/raw/` (incoming Figma/Anima dumps)
  - `assets/previews/` (low-res Nebius outputs)
  - `assets/approved/` (final exports only)
- Design inputs
  - `design/anima/raw/` (zips or folders exported by Anima)
  - `design/anima/manifest.json` (paths + mapping for extractor)
  - `design/figma/` (any reference images or SVGs)
- Environment
  - `.env.example` with: `NEBIUS_API_KEY`, `BRAND_ID`, `ASSETS_BASE_URL`, `SITE_URL`, `VERCEL_*` as needed
  - `.env` local (not committed)

## 10) Setup & initialization checklist (no provisioning in Plan mode)

**MANDATORY: Step-by-step initialization approach**: Complete ALL setup and initialization steps before requesting or adding any page content or starting page projects. The workflow is: (1) Initialize everything (GitHub, Astro, Nebius, Vercel, CI, brand profile, component library, tokens), (2) Verify all systems are configured and working, (3) Only then request content files from owner as needed for each page/component. **CRITICAL: Until all required systems and platforms are correctly initialized (GitHub, Astro, Nebius, Vercel, CI, brand profile, and any other systems paramount for the project to work), you cannot start with page projects or page development.**

- GitHub
  - Create repo named "new-uptalent-website-2026" (or similar naming like "new uptalent website 2026"), connect Cursor; enable branch protection on `main` with required status checks.
  - Enable Git LFS and track: `assets/approved/**/*.{webm,mp4}`, `assets/approved/**/*.lottie.json` (and large images if desired).
- Astro
  - Initialize Astro project named "new-uptalent-website-2026" (or similar); Node 18+; add MDX and content collections. Build command `astro build`, output `dist/`.
- Vercel
  - Import repo; set build to Astro; configure preview deployments on PRs; add env vars from `.env.example`.
- Nebius
  - Create project/API key under name "new-uptalent-website-2026" (or similar naming); do not run jobs yet. Define templates (names above) to be provisioned during setup phase.
- Anima/Figma
  - Export brand package via Anima into `design/anima/raw/`; include frame IDs or manifest.
- CI
  - Add `.github/workflows/ci.yml` with: typecheck/lint/build, Lighthouse (mobile), a11y checks, visual-validator gate (stub until Nebius validator is wired), design pixel-diff overlays at 1440/1280/768/390, and enforcement of cost/approval policy.
- Content
  - **DO NOT add content until initialization is complete and verified**. Owner will provide content in .md files (e.g., `homepage.md`, `engineers.md`, `architects.md`) when requested. Development team will ask for content files as needed. Content will be integrated into MDX under `src/content/pages/*.mdx` only after setup is verified. Keep H1/H2/H3 exactly as provided by owner.

## 11) To-dos

**PHASE 1: Initialization (complete before requesting content or confirming pages)**
- [ ] Create GitHub repo named "new-uptalent-website-2026" (or similar)
- [ ] Initialize Astro project named "new-uptalent-website-2026"
- [ ] Create Nebius project/API key named "new-uptalent-website-2026" (or similar)
- [ ] Initialize Vercel: Import repo; set build to Astro; configure preview deployments on PRs; add env vars from `.env.example`
- [ ] Import Figma/Anima and generate brand_profile.json
- [ ] Implement shared component library with tokens
- [ ] Define Nebius↔Cursor asset contract and wire registry gates
- [ ] Wire visual/accessibility/performance + design-diff checks into CI gating
- [ ] Enforce per-job $5 threshold and $20 monthly cap
- [ ] Verify all systems are configured and working (GitHub, Astro, Nebius, Vercel, CI, brand profile, component library, tokens)

**PHASE 2: Page confirmation and content integration (only after Phase 1 complete)**
- [ ] Confirm initial pages (Home, Engineers, Architects), nav, footer structure with owner
- [ ] Request content from owner: owner will provide content in .md files (e.g., `homepage.md`, `engineers.md`, `architects.md`) in a specific folder
- [ ] Integrate owner-provided content files into the codebase structure
- [ ] Begin page design workflow (see Section 3.1): Design sections one at a time with owner approval required for each section before proceeding
- [ ] Run Hero pilot flow: preview → validate → export → PR (with owner-provided content integrated, following section-by-section approval process)

## 12) Nebius capabilities to adopt (approval list)

### Adopt now (high ROI, low risk)

- Hosted inference endpoints & private model serving (10)
  - Why: Enables low-latency, private usage of any tuned adapter; foundational for personalization and reliability.
  - Impact: Production-grade stability; aligns with the current orchestration-first approach.

- High-quality vectorization & clean SVG generation (4)
  - Why: Immediate perf/SEO gains; crisp icons/logos; smaller payloads.
  - Impact: Faster LCP, better rendering across DPRs; fits asset registry reusability.

- Visual QA, screenshot diffing & automated regression testing (6)
  - Why: Blocks flawed visuals; protects brand/color/contrast and mobile crops in CI.
  - Impact: Fewer regressions; integrates cleanly with preview builds.

- Embeddings & multimodal search / semantic asset manager (8)
  - Why: Powers reuse with similarity search; prevents re-rendering; enables dedupe.
  - Impact: Directly strengthens the Asset Registry; saves costs at scale.

- Automated asset compliance & brand governance (12)
  - Why: Enforces logo/color/legal rules before publish; reduces manual reviews.
  - Impact: Adds a strong quality gate with minimal workflow friction.

- Real-time / on-the-fly image rendering & personalization (3) — start with OG images
  - Why: Low-latency OG image generation per page/message is a quick win for CTR.
  - Impact: Proves the personalization loop with small cost surface; expandable to hero later.

### Plan now, switch on after initial approvals (mid ROI, gated by data)

- Fine-tuning / hosting custom style adapters (LoRA) (1)
  - Why: Long-term brand consistency; fewer iterations; lower churn.
  - Start: After 30–50 approved assets; then train, host adapter, and route jobs through it.
  - Impact: Locks in brand style; boosts acceptance rate of first-pass renders.

### Consider later (scope-dependent, valuable if you pursue these surfaces)

- Scale & batch generation (2)
  - Why: Campaign packs and A/B sets; cheap overnight batches.
  - Use when: You need 50–500+ ad/creative variants; otherwise keep to previews + single exports.

- Video processing, editing and transcoding (5)
  - Why: Motion hero loops and social cuts; GPU wins on quality/size.
  - Use when: Motion is part of the design language; otherwise defer to stills.

- OCR, image-to-text and structured data extraction (7)
  - Why: Useful for ingesting legacy PDFs/screenshots, auto alt-text.
  - Use when: Large back-catalog migration or accessibility automation is prioritized.

- Advanced video/audio transcription & synthesis (11)
  - Why: Narrations, multilingual voiceovers for motion assets.
  - Use when: You produce editorial/video content; not needed for static site MVP.

### Defer (not recommended for this phase)

- 3D / NeRF / AR asset generation (9)
  - Why: High complexity and cost; niche for this website scope.
  - Revisit if: You plan product AR or immersive 3D showcases.

### How these enhance the current proposal (no file changes yet)

- Stronger core: (10, 6, 12) deliver reliability and governance around the existing brand_profile + Asset Registry, with CI gates and secure endpoints.
- Better reuse: (8) makes the registry smart; (4) yields reusable SVG components with web perf upside.
- Personalization path: (3) starts with OG images to validate infra; (1) later locks in on-brand rendering via adapters.
- Scalable when needed: (2, 5, 7, 11) stay off by default; switch on only if your content roadmap demands them.

### To-dos (capabilities)

- [ ] Adopt private hosted endpoints (10) for production inference
- [ ] Add vectorization pipeline (4) for logos/icons and inline SVGs
- [ ] Integrate visual QA + screenshot diffing (6) in CI
- [ ] Enable embeddings-backed asset search and dedupe (8)
- [ ] Add brand compliance checks (12) pre-publish
- [ ] Launch real-time OG image generation (3) first
- [ ] Plan LoRA training/hosting (1) after 30–50 approved assets
- [ ] Enable batch campaign variants (2) if/when needed
- [ ] Add motion/video pipeline (5) when design needs it
- [ ] Add OCR/alt-text ingestion (7) for migrations
- [ ] Enable transcription/TTS (11) for editorial video
- [ ] Defer 3D/AR generation (9) until explicitly required
